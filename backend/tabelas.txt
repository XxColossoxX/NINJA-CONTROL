

-- Tabela EMPRESA
CREATE TABLE IF NOT EXISTS EMPRESA (
    ID_EMPRESA INT AUTO_INCREMENT PRIMARY KEY,
    RAZAO_SOCIAL VARCHAR(255) NOT NULL,
    RAZAO_FANTASIA VARCHAR(255) NOT NULL,
    CNPJ_EMPRESA VARCHAR(20) UNIQUE NOT NULL,
    LOC_EMPRESA VARCHAR(255),
    LAT_EMPRESA VARCHAR(50),
    LONG_EMPRESA VARCHAR(50),
    DSC_EMPRESA TEXT,
    TEL_EMPRESA VARCHAR(20),
    EMAIL_EMPRESA VARCHAR(255),
    SENHA_EMPRESA VARCHAR(255) NOT NULL,
    TIPO ENUM('F','E') NOT NULL
);

-- Tabela FUNCIONARIOS
CREATE TABLE IF NOT EXISTS FUNCIONARIOS (
    ID_FUNCIONARIO INT AUTO_INCREMENT PRIMARY KEY,
    CPF VARCHAR(14) UNIQUE NOT NULL,
    SENHA_FUNCIONARIO VARCHAR(255) NOT NULL,
    NOME_FUNCIONARIO VARCHAR(255) NOT NULL,
    RG VARCHAR(20) NOT NULL,
    TEL_FUNCIONARIO VARCHAR(20) NOT NULL,
    EMAIL_FUNCIONARIO VARCHAR(255) NOT NULL,
    DATA_NASCIMENTO DATE NOT NULL,
    FACEID LONGTEXT NOT NULL,
    FK_EMPRESA INT NOT NULL,
    TIPO ENUM('F','E') NOT NULL,
    FOREIGN KEY (FK_EMPRESA) REFERENCES EMPRESA(ID_EMPRESA)
);

-- Tabela HORARIOS_FUNCIONARIOS
CREATE TABLE IF NOT EXISTS HORARIOS_FUNCIONARIOS (
    FK_FUNCIONARIO INT NOT NULL,
    FK_EMPRESA INT NOT NULL,
    ENTRADA1 TIME,
    SAIDA1 TIME,
    ENTRADA2 TIME,
    SAIDA2 TIME,
    DATA DATE NOT NULL,
    FOREIGN KEY (FK_FUNCIONARIO) REFERENCES FUNCIONARIOS(ID_FUNCIONARIO),
    FOREIGN KEY (FK_EMPRESA) REFERENCES EMPRESA(ID_EMPRESA)
);

-- Tabela PONTO
CREATE TABLE IF NOT EXISTS PONTO (
    ID_PONTO INT AUTO_INCREMENT PRIMARY KEY,
    FK_FUNCIONARIO INT NOT NULL,
    FK_EMPRESA INT NOT NULL,
    NOME_FUNCIONARIO VARCHAR(255) NOT NULL,
    ENTRADA1 TIME,
    STATUS_ENTRADA1 VARCHAR(50),
    SAIDA1 TIME,
    STATUS_SAIDA1 VARCHAR(50),
    ENTRADA2 TIME,
    STATUS_ENTRADA2 VARCHAR(50),
    SAIDA2 TIME,
    STATUS_SAIDA2 VARCHAR(50),
    DIVIDA TIME,
    DATA DATE NOT NULL,
    FACEID_FUNCIONARIO TEXT NOT NULL,
    FOREIGN KEY (FK_FUNCIONARIO) REFERENCES FUNCIONARIOS(ID_FUNCIONARIO),
    FOREIGN KEY (FK_EMPRESA) REFERENCES EMPRESA(ID_EMPRESA)
);
