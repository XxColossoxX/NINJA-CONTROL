<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Ponto - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .camera-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            overflow: hidden;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .camera-feed {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .recognition-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 0.8; }
            50% { opacity: 1; }
            100% { opacity: 0.8; }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="navbar bg-base-100 shadow-lg">
        <div class="flex-1">
            <a class="btn btn-ghost normal-case text-xl">Sistema de Ponto</a>
        </div>
        <div class="flex-none">
            <div class="dropdown dropdown-end">
                <label tabindex="0" class="btn btn-ghost btn-circle avatar">
                    <div class="w-10 rounded-full bg-primary text-white flex items-center justify-center">
                        <i class="fas fa-user"></i>
                    </div>
                </label>
                <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                    <li><a>Perfil</a></li>
                    <li><a>Configurações</a></li>
                    <li><a>Sair</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Camera Section -->
            <div class="lg:col-span-2">
                <div class="camera-container bg-gray-200">
                    <video id="video" class="camera-feed" autoplay playsinline></video>
                    <div id="recognition-overlay" class="hidden absolute inset-0 flex items-center justify-center bg-black bg-opacity-50">
                        <div class="text-center text-white">
                            <div class="recognition-animation mb-4">
                                <i class="fas fa-user-check text-6xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold">Funcionário Reconhecido</h3>
                            <p id="employee-name" class="text-xl mt-2">João Silva</p>
                        </div>
                    </div>
                </div>
                <div class="mt-4 flex justify-center">
                    <button id="capture-btn" class="btn btn-primary btn-lg">
                        <i class="fas fa-camera mr-2"></i>
                        Registrar Ponto
                    </button>
                    <input type="">
                </div>
            </div>

            <!-- Stats Section -->
            <div class="space-y-6">
                <div class="card bg-white shadow-lg">
                    <div class="card-body">
                        <h2 class="card-title text-xl">Registro de Hoje</h2>
                        <div class="stats stats-vertical shadow">
                            <div class="stat">
                                <div class="stat-title">Entradas</div>
                                <div class="stat-value">24</div>
                                <div class="stat-desc">Funcionários</div>
                            </div>
                            <div class="stat">
                                <div class="stat-title">Saídas</div>
                                <div class="stat-value">18</div>
                                <div class="stat-desc">Funcionários</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card bg-white shadow-lg">
                    <div class="card-body">
                        <h2 class="card-title text-xl">Últimos Registros</h2>
                        <div class="overflow-x-auto">
                            <table class="table table-zebra">
                                <thead>
                                    <tr>
                                        <th>Nome</th>
                                        <th>Horário</th>
                                        <th>Tipo</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Maria Silva</td>
                                        <td>08:05</td>
                                        <td><span class="badge badge-success">Entrada</span></td>
                                    </tr>
                                    <tr>
                                        <td>João Santos</td>
                                        <td>08:10</td>
                                        <td><span class="badge badge-success">Entrada</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Inicialização da câmera
        const video = document.getElementById('video');
        const captureBtn = document.getElementById('capture-btn');
        const recognitionOverlay = document.getElementById('recognition-overlay');
        
        // Simulação de reconhecimento facial
        captureBtn.addEventListener('click', () => {
            recognitionOverlay.classList.remove('hidden');
            setTimeout(() => {
                recognitionOverlay.classList.add('hidden');
                // Aqui seria implementada a lógica real de reconhecimento
            }, 3000);
        });

        // Iniciar stream da câmera (código real precisaria de permissões)
        if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(stream => {
                    video.srcObject = stream;
                })
                .catch(err => {
                    console.error("Erro ao acessar câmera:", err);
                });
        }
    </script>
</body>
</html>